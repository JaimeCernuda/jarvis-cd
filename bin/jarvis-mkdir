#!/usr/bin/env python3

#USAGE jarvis-mkdir [path]

from jarvis_cd.comm.ssh_config import SSHConfigMixin
from jarvis_cd.fs.mkdir_node import MkdirNode
import sys

if __name__ == '__main__':
    conf = SSHConfigMixin().LoadConfig()
    host_id = 0
    path = None
    if len(sys.argv) >= 2:
        path = sys.argv[1]
    if len(sys.argv) > 2:
        print("USAGE: jarvis-mkdir [path]")
        exit(1)
    if conf.all_hosts is None:
        print("Hostfile undefined in jarvis_conf.yaml")
        exit(1)
    MkdirNode(path, hosts=conf.all_hosts, ssh_info=conf.ssh_info).Run()