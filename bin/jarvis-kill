#!/usr/bin/env python3

import sys,os
from jarvis_cd.basic.kill_node import KillNode
from jarvis_cd.comm.ssh_config import SSHConfig

if __name__ == '__main__':
    if len(sys.argv) < 2:
        print("USAGE: jarvis-kill [regex_a] [regex_b] ...")
        exit(1)
    print(f"Calling kill {sys.argv[1:]}")
    conf = SSHConfig().LoadConfig()
    KillNode(sys.argv[1:], hosts=conf.all_hosts, ssh_info=conf.ssh_info).Run()